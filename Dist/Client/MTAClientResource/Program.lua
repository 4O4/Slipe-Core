-- Generated by CSharp.lua Compiler
local System = System
local SystemNumerics = System.Numerics
local ArrayString = System.Array(System.String)
local MTAClientWrapper
local MTAClientWrapperJavascript
local ArrayJavascriptVariable
System.import(function (out)
  MTAClientWrapper = out.MTAClientWrapper
  MTAClientWrapperJavascript = MTAClientWrapper.Javascript
  ArrayJavascriptVariable = System.Array(MTAClientWrapperJavascript.JavascriptVariable)
end)
System.namespace("MTAClientResource", function (namespace)
  namespace.class("Program", function (namespace)
    local Main, OnCreated, OnDomainRequestAccepted, OnReady, class, __ctor__
    __ctor__ = function (this)
      this.guiBrowser = MTAClientWrapper.GUIBrowser(SystemNumerics.Vector2.getZero(), 1, 1, false, true, true)
      this.browser = this.guiBrowser:getBrowser()

      MTAClientWrapper.Browser.OnDomainRequestAccepted = MTAClientWrapper.Browser.OnDomainRequestAccepted + System.bind(this, OnDomainRequestAccepted)
      this.browser.OnCreated = this.browser.OnCreated + System.bind(this, OnCreated)
      this.browser.OnDocumentReady = this.browser.OnDocumentReady + System.bind(this, OnReady)

      this.browser:AddEventHandler("onClientBrowserCreated", true, "normal")
    end
    Main = function (args)
      System.Console.WriteLine("Hello Client!")
      class()
    end
    OnCreated = function (this)
      MTAClientWrapper.Browser.RequestDomain("nanobob.net", false)
    end
    OnDomainRequestAccepted = function (this, domain)
      this.browser:LoadUrl("https://nanobob.net", nil, true)
      MTAClientWrapper.Cursor.SetVisible(true, true)

      this.browser:AddEventHandler("onClientBrowserDocumentReady", true, "normal")
    end
    OnReady = function (this, url)
      this.browser:ExecuteJavascript1("testMethod", ArrayJavascriptVariable(System.new(MTAClientWrapperJavascript.JavascriptVariable, 2, "test"), System.new(MTAClientWrapperJavascript.JavascriptVariable, 3, true), System.new(MTAClientWrapperJavascript.JavascriptVariable, 6, ArrayString("hey", "there")), System.new(MTAClientWrapperJavascript.JavascriptVariable, 6, 5.2), System.new(MTAClientWrapperJavascript.JavascriptVariable, 4, 10)))
    end
    class = {
      Main = Main,
      OnCreated = OnCreated,
      OnDomainRequestAccepted = OnDomainRequestAccepted,
      OnReady = OnReady,
      __ctor__ = __ctor__
    }
    return class
  end)
end)
